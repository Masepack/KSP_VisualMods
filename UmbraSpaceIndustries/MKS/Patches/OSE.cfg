@OSE_DefaultRecipe:NEEDS[Workshop]
{
	-RESOURCES {}
	RESOURCES
	{
		SpecializedParts = 1
		MaterialKits = 10
	}
}

@PART[Ranger_Workshop]:NEEDS[Workshop]	//Workshop is a very high efficiency high volume workshop
{
  MODULE
  {
    name = OseModuleWorkshop
    ConversionRate = 1.0 // How much of a parts mass needs to be processed until it is done
    ProductivityFactor = 0.25 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    MinimumCrew = 1 // Amount of Kerbals needed for the Workshop to work
    MaxPartVolume = 4000.0
    Animate = true
  }

  MODULE
  {
    name = OseModuleRecycler
    ConversionRate = 0.50 // How much of a parts mass will be recycled
    ProductivityFactor = 0.1 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    OutputResource = MaterialKits // This resource will be created 
    MinimumCrew = 1 // Amount of Kerbals needed for the Recycler to work
  }
	RESOURCE
	{
		name = MaterialKits 
		amount = 0
		maxAmount = 400
		isTweakable = True
	}
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Aero
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advaerodynamics
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Communication
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advunmanned
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Control
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_largecontrol
	}
	
	MODULE
  {
    name = OseModuleCategoryAddon
    Category = Coupling
    IconPath = Squad/PartList/SimpleIcons/cs_size3
  }

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Electrical
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_electrics
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = Engine
		IconPath = Squad/PartList/SimpleIcons/RDicon_propulsionSystems
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = FuelTank
		IconPath = Squad/PartList/SimpleIcons/RDicon_fuelSystems-advanced
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Ground
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advancedmotors
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Payload
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_composites
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Pods
		IconPath = Squad/PartList/SimpleIcons/RDicon_commandmodules
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Science
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advsciencetech
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Structural
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generalconstruction
	}

  	MODULE
  	{
    		name = OseModuleCategoryAddon
    		Category = Thermal
    		IconPath = Squad/PartList/SimpleIcons/fuels_monopropellant
  	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Utility
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generic
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = none
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_robotics
	}
  
}




@PART[Tundra_AssemblyPlant]:NEEDS[Workshop]	//Fabricators is a very high efficiency high volume workshop
{
  MODULE
  {
    name = OseModuleWorkshop
    ConversionRate = 1.0 // How much of a parts mass needs to be processed until it is done
    ProductivityFactor = 0.25 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    MinimumCrew = 1 // Amount of Kerbals needed for the Workshop to work
    MaxPartVolume = 4000.0
    Animate = true
  }

  MODULE
  {
    name = OseModuleRecycler
    ConversionRate = 0.50 // How much of a parts mass will be recycled
    ProductivityFactor = 0.1 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    OutputResource = MaterialKits // This resource will be created 
    MinimumCrew = 1 // Amount of Kerbals needed for the Recycler to work
  }
	RESOURCE
	{
		name = MaterialKits 
		amount = 0
		maxAmount = 400
		isTweakable = True
	}
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Aero
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advaerodynamics
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Communication
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advunmanned
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Control
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_largecontrol
	}
	
	MODULE
  {
    name = OseModuleCategoryAddon
    Category = Coupling
    IconPath = Squad/PartList/SimpleIcons/cs_size3
  }

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Electrical
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_electrics
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = Engine
		IconPath = Squad/PartList/SimpleIcons/RDicon_propulsionSystems
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = FuelTank
		IconPath = Squad/PartList/SimpleIcons/RDicon_fuelSystems-advanced
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Ground
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advancedmotors
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Payload
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_composites
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Pods
		IconPath = Squad/PartList/SimpleIcons/RDicon_commandmodules
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Science
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advsciencetech
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Structural
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generalconstruction
	}

  	MODULE
  	{
    		name = OseModuleCategoryAddon
    		Category = Thermal
    		IconPath = Squad/PartList/SimpleIcons/fuels_monopropellant
  	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Utility
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generic
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = none
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_robotics
	}
  
}

@PART[ScoutLanderMk2]:NEEDS[Workshop] //Scout is smallest
{
  MODULE
  {
    name = OseModuleWorkshop
    ConversionRate = 1.0 // How much of a parts mass needs to be processed until it is done
    ProductivityFactor = 0.05 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    MinimumCrew = 0 // Amount of Kerbals needed for the Workshop to work
    MaxPartVolume = 500.0
    Animate = true
  }
  
  MODULE
  {
    name = OseModuleRecycler
    ConversionRate = 0.10 // How much of a parts mass will be recycled
    ProductivityFactor = 0.1 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    OutputResource = MaterialKits // This resource will be created 
    MinimumCrew = 0 // Amount of Kerbals needed for the Recycler to work
  }
	RESOURCE
	{
		name = MaterialKits 
		amount = 0
		maxAmount = 100
		isTweakable = True
	}
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Aero
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advaerodynamics
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Communication
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advunmanned
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Control
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_largecontrol
	}
	
	MODULE
  {
    name = OseModuleCategoryAddon
    Category = Coupling
    IconPath = Squad/PartList/SimpleIcons/cs_size3
  }

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Electrical
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_electrics
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = Engine
		IconPath = Squad/PartList/SimpleIcons/RDicon_propulsionSystems
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = FuelTank
		IconPath = Squad/PartList/SimpleIcons/RDicon_fuelSystems-advanced
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Ground
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advancedmotors
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Payload
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_composites
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Pods
		IconPath = Squad/PartList/SimpleIcons/RDicon_commandmodules
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Science
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advsciencetech
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Structural
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generalconstruction
	}

  	MODULE
  	{
    		name = OseModuleCategoryAddon
    		Category = Thermal
    		IconPath = Squad/PartList/SimpleIcons/fuels_monopropellant
  	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Utility
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generic
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = none
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_robotics
	}
  
}

@PART[Tundra_Workshop250]:NEEDS[Workshop] //Tundra-250 is smaller, less efficient
{
  MODULE
  {
    name = OseModuleWorkshop
    ConversionRate = 1.0 // How much of a parts mass needs to be processed until it is done
    ProductivityFactor = 0.05 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    MinimumCrew = 1 // Amount of Kerbals needed for the Workshop to work
    MaxPartVolume = 1000.0
    Animate = true
  }
  MODULE
  {
    name = OseModuleRecycler
    ConversionRate = 0.15 // How much of a parts mass will be recycled
    ProductivityFactor = 0.1 // How much units of the resource a processed per second
    UpkeepResource = ElectricCharge // This resource will be consumed 1 per second during processing
    OutputResource = MaterialKits // This resource will be created 
    MinimumCrew = 1 // Amount of Kerbals needed for the Recycler to work
  }
	RESOURCE
	{
		name = MaterialKits 
		amount = 0
		maxAmount = 100
		isTweakable = True
	}
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Aero
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advaerodynamics
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Communication
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advunmanned
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Control
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_largecontrol
	}
	
	MODULE
  {
    name = OseModuleCategoryAddon
    Category = Coupling
    IconPath = Squad/PartList/SimpleIcons/cs_size3
  }

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Electrical
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_electrics
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = Engine
		IconPath = Squad/PartList/SimpleIcons/RDicon_propulsionSystems
	}

  MODULE
	{
		name = OseModuleCategoryAddon
		Category = FuelTank
		IconPath = Squad/PartList/SimpleIcons/RDicon_fuelSystems-advanced
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Ground
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advancedmotors
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Payload
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_composites
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Pods
		IconPath = Squad/PartList/SimpleIcons/RDicon_commandmodules
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Science
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_advsciencetech
	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Structural
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generalconstruction
	}

  	MODULE
  	{
    		name = OseModuleCategoryAddon
    		Category = Thermal
    		IconPath = Squad/PartList/SimpleIcons/fuels_monopropellant
  	}

	MODULE
	{
		name = OseModuleCategoryAddon
		Category = Utility
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_generic
	}
	
	MODULE
	{
		name = OseModuleCategoryAddon
		Category = none
		IconPath = Squad/PartList/SimpleIcons/R&D_node_icon_robotics
	}
  
}

//Converter - similar to the workshop's existing functionality
@PART[OSE_Converter]	//Convert the original over to the MKS workflow
{  
	@description = OSE's Material Extractor refines raw materials into MaterialKits for use in 3D printing.

	-MODULE[ModuleResourceConverter],* {}
	-RESOURCE[Dirt] {}
	-RESOURCE[Ore] {}

	MODULE
	{
		name = ModuleResourceConverter_USI
		ConverterName = MaterialKits
		StartActionName = Start MaterialKits
		StopActionName = Stop MaterialKits

		UseSpecialistBonus = true
		SpecialistEfficiencyFactor = 0.2
		SpecialistBonusBase = 0.05
		ExperienceEffect = ConverterSkill
		Efficiency = 1				
		
		INPUT_RESOURCE
		{
			ResourceName = Metals
			Ratio = 0.0448
		}
		INPUT_RESOURCE
		{
			ResourceName = Chemicals
			Ratio = 0.0224
		}
		INPUT_RESOURCE
		{
			ResourceName = Polymers
			Ratio = 0.0448
		}
		INPUT_RESOURCE
		{
			ResourceName = ElectricCharge
			Ratio = 224
		}
		INPUT_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 0.00005
		}
		OUTPUT_RESOURCE
		{
			ResourceName = Recyclables
			Ratio = 0.00005
			DumpExcess = true
		}
		OUTPUT_RESOURCE
		{
			ResourceName = MaterialKits
			Ratio = 0.028
			DumpExcess = False
		}

		REQUIRED_RESOURCE
		{
			ResourceName = Machinery
			Ratio = 200
		}
	}
	RESOURCE
	{
		name = Machinery
		amount = 200
		maxAmount = 200
		isTweakable = True
	}
	RESOURCE
	{
		name = MaterialKits
		amount = 0
		maxAmount = 200
		isTweakable = True
	}		
}

// Stock drills patched by OSE
@PART[RadialDrill|MiniDrill]:NEEDS[Workshop]:AFTER[Workshop]
{
	// MKS provides different drills for these resources
	-MODULE[ModuleResourceHarvester]:HAS[#ResourceName[Dirt]] {}
	-MODULE[ModuleResourceHarvester]:HAS[#ResourceName[ExoticMinerals]] {}
	-MODULE[ModuleResourceHarvester]:HAS[#ResourceName[RareMetals]] {}
}
